global:
  auth:
    backend:
      enabled: true
  clusterRouterBase:  ""
  dynamic:
    # -- Array of YAML files listing dynamic plugins to include with those listed in the `plugins` field.
    # Relative paths are resolved from the working directory of the initContainer that will install the plugins (`/opt/app-root/src`).
    includes:
      - dynamic-plugins.default.yaml
    plugins:
      - package: ./dynamic-plugins/dist/immobiliarelabs-backstage-plugin-gitlab-backend-dynamic
        disabled: false
      - package: ./dynamic-plugins/dist/immobiliarelabs-backstage-plugin-gitlab
        disabled: false
      - package: ./dynamic-plugins/dist/backstage-plugin-catalog-backend-module-gitlab-dynamic
        disabled: false
      - package: ./dynamic-plugins/dist/backstage-plugin-scaffolder-backend-module-gitlab-dynamic
        disabled: false
      - package: ./dynamic-plugins/dist/backstage-plugin-kubernetes-backend-dynamic
        disabled: false
      - package: ./dynamic-plugins/dist/backstage-plugin-kubernetes
        disabled: false
      - package: ./dynamic-plugins/dist/janus-idp-backstage-plugin-topology
        disabled: false
      - package: ./dynamic-plugins/dist/roadiehq-backstage-plugin-argo-cd-backend-dynamic
        disabled: false
      - package: ./dynamic-plugins/dist/roadiehq-scaffolder-backend-argocd-dynamic
        disabled: false
      - package: ./dynamic-plugins/dist/roadiehq-backstage-plugin-argo-cd
        disabled: false
      - package: ./dynamic-plugins/dist/roadiehq-scaffolder-backend-module-utils-dynamic
        disabled: false
      - package: ./dynamic-plugins/dist/janus-idp-backstage-plugin-keycloak-backend-dynamic
        disabled: false
      - package: ./dynamic-plugins/dist/janus-idp-backstage-plugin-tekton
        pluginConfig:
          dynamicPlugins:
            frontend:
              janus-idp.backstage-plugin-tekton:
                mountPoints:
                  - mountPoint: entity.page.ci/cards
                    importName: TektonCI
                    config:
                      layout:
                        gridColumn: "1 / -1"
                        gridRowStart: 1
                      if:
                        allOf:
                          - isTektonCIAvailable
        disabled: false
      - package: ./dynamic-plugins/dist/backstage-plugin-tech-radar
        disabled: false

# -- Upstream Backstage [chart configuration](https://github.com/backstage/charts/blob/main/charts/backstage/values.yaml)
# @default -- Use Openshift compatible settings
upstream:
  backstage:
    image:
      registry: ""
      repository: ""
      tag: ""
      pullSecrets:
      - mad-developer-hub-pull-secret
    extraEnvVars:
      - name: BACKEND_SECRET
        valueFrom:
          secretKeyRef:
            key: oauth2Proxy.cookieSecret
            name: rhdh-keycloak-creds
      - name: 'APP_CONFIG_app_baseUrl'
        valueFrom:
          secretKeyRef:
            key: rhdh.backend.baseUrl
            name: rhdh-keycloak-creds
      - name: 'APP_CONFIG_backend_baseUrl'
        valueFrom:
          secretKeyRef:
            key: rhdh.backend.baseUrl
            name: rhdh-keycloak-creds
      - name: 'APP_CONFIG_backend_cors_origin'
        valueFrom:
          secretKeyRef:
            key: rhdh.backend.baseUrl
            name: rhdh-keycloak-creds
      - name: POSTGRES_ADMIN_PASSWORD
        valueFrom:
          secretKeyRef:
            key: postgres-password
            name: rhdh-postgresql
      - name: NODE_TLS_REJECT_UNAUTHORIZED
        value: "0"
      - name: APP_CONFIG_catalog_providers_keycloakOrg_default_baseUrl
        valueFrom:
          secretKeyRef:
            key: oauth2Proxy.baseUrl
            name: rhdh-keycloak-creds
      - name: APP_CONFIG_catalog_providers_keycloakOrg_default_loginRealm
        valueFrom:
          secretKeyRef:
            key: oauth2Proxy.realm
            name: rhdh-keycloak-creds
      - name: APP_CONFIG_catalog_providers_keycloakOrg_default_realm
        valueFrom:
          secretKeyRef:
            key: oauth2Proxy.realm
            name: rhdh-keycloak-creds
      - name: APP_CONFIG_catalog_providers_keycloakOrg_default_clientId
        valueFrom:
          secretKeyRef:
            key: oauth2Proxy.clientId
            name: rhdh-keycloak-creds
      - name: APP_CONFIG_catalog_providers_keycloakOrg_default_clientSecret
        valueFrom:
          secretKeyRef:
            key: oauth2Proxy.clientSecret
            name: rhdh-keycloak-creds
      - name: LOG_LEVEL
        value: debug
    extraContainers:
      - name: oauth2-proxy
        env:
          - name: OAUTH2_PROXY_CLIENT_ID
            valueFrom:
              secretKeyRef:
                key: oauth2Proxy.clientId
                name: rhdh-keycloak-creds
          - name: OAUTH2_PROXY_CLIENT_SECRET
            valueFrom:
              secretKeyRef:
                key: oauth2Proxy.clientSecret
                name: rhdh-keycloak-creds
          - name: OAUTH2_PROXY_COOKIE_SECRET
            valueFrom:
              secretKeyRef:
                key: oauth2Proxy.cookieSecret
                name: rhdh-keycloak-creds
          - name: OAUTH2_PROXY_OIDC_ISSUER_URL
            valueFrom:
              secretKeyRef:
                key: oauth2Proxy.issuerUrl
                name: rhdh-keycloak-creds
          - name: OAUTH2_PROXY_SSL_INSECURE_SKIP_VERIFY
            value: 'true'
        ports:
          - name: oauth2-proxy
            containerPort: 4180
            protocol: TCP
        imagePullPolicy: IfNotPresent
        image: 'quay.io/oauth2-proxy/oauth2-proxy:latest'
        args:
          - '--provider=oidc'
          - '--email-domain=*'
          - '--upstream=http://localhost:7007'
          - '--http-address=0.0.0.0:4180'
          - '--skip-provider-button'
          - '--insecure-oidc-allow-unverified-email=true'          
 
    appConfig:
      app:
        title: Demo OSS NA
        branding:
          fullLogo: data:image/png;base64,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
          theme:
            light:
              primaryColor: "#151515"
              headerColor1: "#151515"
              headerColor2: "#151515"
              navigationIndicatorColor: "#151515"
            dark:
              primaryColor: "#151515"
              headerColor1: "#151515"
              headerColor2: "#151515"
              navigationIndicatorColor: "#151515"
      backend:
        listen:
          port: 7007
          host: 0.0.0.0
        csp:
          connect-src: ['self', 'http:', 'https:']
        cors:
          credentials: true
          methods: [GET, POST, PUT, DELETE]
          origin: ""
        database:
          client: pg
          connection:
            password: ""
            user: ""
            host: "janus-backstage-postgresql"
            port: ""
        reading:
          allow:
            - host: ""
      integrations:
        gitlab:
        - host: 
          baseUrl:
          apiBaseUrl:
          token: 

      proxy:
        endpoints:
          '/developer-hub':
            target: https://raw.githubusercontent.com/
            pathRewrite:
              '^/api/proxy/developer-hub': /redhat-gpte-devopsautomation/agnosticd_workload_helm_charts/main/rhdh/json/rhdh_home.json
              '^/api/proxy/developer-hub/tech-radar': /varodrig/agnosticd_workload_helm_charts/upgrade-release/rhdh/json/tech_radar.json
            secure: false
            changeOrigin: true

      auth:
        environment: production
        providers:
          oauth2Proxy: {}

      signInPage: oauth2Proxy

      scaffolder:

        # see https://backstage.io/docs/features/software-templates/configuration for software template options

      catalog:
        rules:
          - allow: [Component, System, API, Resource, Location, Template]
        locations:
          - target:
            type: url
            rules:
              - allow: [Template]
          - target:
            type: url
            rules:
              - allow: [ Group, User]
        providers:
          gitlab:
            selfHosted:
              host: 
              schedule: # optional; same options as in TaskScheduleDefinition
                # supports cron, ISO duration, "human duration" as used in code
                frequency: { seconds: 10 }
                # supports ISO duration, "human duration" as used in code
                timeout: { seconds: 60 }
          keycloakOrg:
            default:
              baseUrl: ""
              loginRealm: ""
              realm: ""
              clientId: ""
              clientSecret: ""

      argocd:
        appLocatorMethods:
          - type: 'config'
            instances:
              - name: main
                url:
                username: admin
                password:

      kubernetes:
        serviceLocatorMethod:
          type: "multiTenant"
        clusterLocatorMethods:
          - type: "config"
            clusters:
              - name: dev-cluster
                url: 
                authProvider: "serviceAccount"
                skipTLSVerify: true
                serviceAccountToken:
        customResources:
          - group: 'tekton.dev'
            apiVersion: 'v1beta1'
            plural: 'pipelineruns'
          - group: 'tekton.dev'
            apiVersion: 'v1beta1'
            plural: 'taskruns'
          - group: 'route.openshift.io'
            apiVersion: 'v1'
            plural: 'routes'

      permission:
        enabled: false

      enabled:
        kubernetes: true
        github: false
        argocd: true
        github: false
        githubOrg: false
        techdocs: false
        ocm: false
        gitlab: true
        keycloak: true
        jenkins: false
        permission: false
        sonarqube: false

  postgresql:
    enabled: true
    database: backstage
    postgresqlDataDir: /var/lib/pgsql/data/userdata
    auth:
      username: ""
      database: backstage
      existingSecret: rhdh-postgresql
      secretKeys:
        userPasswordKey: postgres-password
    image:
      registry: registry.redhat.io
      repository: rhel9/postgresql-13
      tag: 1-73
    primary:
      securityContext:
        enabled: false
      podSecurityContext:
        enabled: false
      containerSecurityContext:
        enabled: false
      persistence:
        enabled: true
        mountPath: /var/lib/pgsql/data
      extraEnvVars:
        - name: POSTGRESQL_ADMIN_PASSWORD
          valueFrom:
            secretKeyRef:
              key: postgres-password
              name: rhdh-postgresql
              
  service:
    ports:
      backend: 4180
      targetPort: oauth2-proxy
  
  serviceAccount:
    name: backstage
    create: true